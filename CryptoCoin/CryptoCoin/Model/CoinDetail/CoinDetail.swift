//
//  상세데이터.swift
//  Dobong_Crypto
//
//  Created by Bran on 3/7/25.
//

import Foundation

/// #4. 코인상세 화면
struct CoinDetail: Decodable, Equatable {
    let id: String
    let symbol: String
    let name: String
    let image: String
    let currentPrice: Double
    let marketCap: Double
    let fullyDilutedValuation: Double?
    let totalVolume: Double
    let high24h: Double?
    let low24h: Double?
    let priceChangePercentage24h: Double?
    let ath: Double
    let athDate: String
    let atl: Double
    let atlDate: String
    let lastUpdated: String
    let sparklineIn7d: SparklineData?
    
    enum CodingKeys: String, CodingKey {
        case id, symbol, name, image, ath, atl
        case currentPrice = "current_price"
        case marketCap = "market_cap"
        case fullyDilutedValuation = "fully_diluted_valuation"
        case totalVolume = "total_volume"
        case low24h = "low_24h"
        case high24h = "high_24h"
        case athDate = "ath_date"
        case atlDate = "atl_date"
        case lastUpdated = "last_updated"
        case sparklineIn7d = "sparkline_in_7d"
        case priceChangePercentage24h = "price_change_percentage_24h"
    }
}

// MARK: - 스파크라인 차트 데이터
struct SparklineData: Decodable, Equatable {
    let price: [Double]
}

extension CoinDetail {
    static var mock: [CoinDetail] {
        [CoinDetail(
            id: "bitcoin",
            symbol: "btc",
            name: "Bitcoin",
            image: "https://coin-images.coingecko.com/coins/images/1/large/bitcoin.png?1696501400",
            currentPrice: 120764199,
            marketCap: 2397354848109940,
            fullyDilutedValuation: 2397354848109940,
            totalVolume: 17366848350778,
            high24h: 121230275,
            low24h: 120381699,
            priceChangePercentage24h: 0.30515,
            ath: 157802010,
            athDate: "2025-01-20T07:16:25.271Z",
            atl: 75594,
            atlDate: "2013-07-05T00:00:00.000Z",
            lastUpdated: "2025-04-20T04:02:38.844Z",
            sparklineIn7d: SparklineData(
                price: [
                    85296.72976736756,
                    85464.59019442675,
                    85337.18790410843,
                    85232.85128493622,
                    85422.0967425296,
                    84667.07071059634,
                    84515.92251627243,
                    84710.09360463546,
                    84457.0360990321,
                    84585.13863461434,
                    84881.3367521123,
                    84668.81761593616,
                    84446.94289624105,
                    84436.51740072019,
                    83648.98919141645,
                    84031.22500638437,
                    83980.12231485195,
                    84210.62712650532,
                    84771.87106577087,
                    84731.50450347898,
                    84017.0882151789,
                    83438.00410089483,
                    83574.27265943393,
                    83330.90244768845,
                    83637.28172222206,
                    84420.85655994239,
                    84188.62885806532,
                    85142.12257679901,
                    84520.33459198069,
                    84908.86594967128,
                    84464.7604669509,
                    84551.38712005342,
                    84555.6272692444,
                    84723.07963389653,
                    84428.69559111315,
                    84626.70459097729,
                    84887.52973148914,
                    85104.2026773784,
                    84446.0708102059,
                    85667.64514540603,
                    84158.074707306,
                    84437.69989177307,
                    84802.421103376,
                    84947.04782692718,
                    84916.65944245027,
                    84872.47644905868,
                    84678.29714727977,
                    84516.57227578854,
                    84590.22055897689,
                    84805.40623454058,
                    84973.75743867172,
                    84909.8088011936,
                    85264.26252155572,
                    85540.8011230295,
                    85650.19655642175,
                    85470.69141248541,
                    85718.22005374837,
                    85822.84294330432,
                    85917.26834462702,
                    85620.89303105656,
                    85568.11153809096,
                    85750.21230099528,
                    85643.31333199244,
                    85196.52851347838,
                    84872.39518339455,
                    84883.0020095308,
                    84514.06417495162,
                    84190.93368373165,
                    84067.51559465779,
                    83969.38654754977,
                    84088.84019229886,
                    83820.92705842877,
                    83641.90418930881,
                    83276.55042310501,
                    83588.3328373832,
                    83852.32880812319,
                    83691.3161157112,
                    83630.30378934758,
                    83362.81469972755,
                    83671.63968678997,
                    83268.76104504136,
                    83791.12089609494,
                    83684.21939217026,
                    83940.193092368,
                    84031.00362096768,
                    83773.76770684845,
                    84632.62914216601,
                    84632.62914216601,
                    84881.20601105259,
                    85164.83798446032,
                    83592.78870942906,
                    83927.46698655207,
                    84335.5094604819,
                    84407.0868388753,
                    84585.68630940643,
                    84463.89043079078,
                    84058.84766997752,
                    84169.25906554099,
                    84289.10887462631,
                    84233.9540809772,
                    83998.8765062859,
                    84114.96421410139,
                    84424.6075788509,
                    84780.57098208612,
                    84657.33004725928,
                    84470.83930024544,
                    84444.83113819316,
                    84338.83914942484,
                    84671.31259746742,
                    84752.81095552155,
                    84551.43324382056,
                    84116.88582337098,
                    84521.25838113441,
                    84896.92624338971,
                    85130.287718885,
                    85099.49107256206,
                    84850.50910583472,
                    85111.67393566275,
                    85056.76185615391,
                    84837.31546385802,
                    84946.9167296784,
                    84812.66058743586,
                    84932.22254470258,
                    84877.16175933217,
                    84819.48188695368,
                    84693.92576511695,
                    84680.34688547385,
                    84719.19044705047,
                    84641.30564762019,
                    84627.54918136004,
                    84546.0386285242,
                    84498.7745773988,
                    84593.66315889767,
                    84618.69491163455,
                    84543.30063719767,
                    84541.69566568747,
                    84382.34027186113,
                    84455.82994619277,
                    84543.02354629472,
                    84599.59333023877,
                    84535.96965601825,
                    84495.66839467015,
                    84589.93551188768,
                    84507.5553544359,
                    84447.77718147618,
                    84430.13416891031,
                    84537.56876723397,
                    84750.96113857607,
                    84873.33303095314,
                    85039.73101895596,
                    85065.22675131068,
                    84928.93649119227,
                    85188.51899516837,
                    85315.77967080926,
                    85348.12052038811,
                    85222.96773135632,
                    85196.3572478893,
                    85277.07094440877,
                    85450.83762577904,
                    85405.39779525725,
                    85216.9255110766,
                    84884.07476220753,
                    85152.68414164294,
                    85145.76108784041,
                    85081.67948116116,
                    85202.13526291905,
                    85317.39798374778,
                    85246.71284128349
                ]
            )
        )]
    }
}
